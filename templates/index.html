<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Football Tactics | Elite Edition</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap"
        rel="stylesheet">
</head>

<body>

    <div class="background-glow"></div>

    <div class="main-container">
        <header>
            <h1>AI TACTICAL <span class="highlight">GHOST</span></h1>
            <p>Analyze. Adapt. Dominate.</p>
        </header>

        <form id="tacticForm" class="glass-panel">

            <!-- Visual Formation Selection -->
            <div class="section">
                <h3>1. Select Opponent Formation</h3>
                <div class="formation-grid">
                    <!-- Formations will be selectable items -->
                    <label class="formation-card">
                        <input type="radio" name="opponent_formation" value="4-3-3" checked>
                        <img src="{{ url_for('static', filename='images/4-3-3.png') }}" alt="4-3-3">
                        <span>4-3-3</span>
                    </label>
                    <label class="formation-card">
                        <input type="radio" name="opponent_formation" value="4-4-2">
                        <img src="{{ url_for('static', filename='images/4-4-2.png') }}" alt="4-4-2">
                        <span>4-4-2</span>
                    </label>
                    <label class="formation-card">
                        <input type="radio" name="opponent_formation" value="3-4-3">
                        <img src="{{ url_for('static', filename='images/3-4-3.png') }}" alt="3-4-3">
                        <span>3-4-3</span>
                    </label>
                    <label class="formation-card">
                        <input type="radio" name="opponent_formation" value="5-4-1">
                        <img src="{{ url_for('static', filename='images/5-4-1.png') }}" alt="5-4-1">
                        <span>5-4-1</span>
                    </label>
                    <label class="formation-card">
                        <input type="radio" name="opponent_formation" value="4-2-3-1">
                        <img src="{{ url_for('static', filename='images/4-2-3-1.png') }}" alt="4-2-3-1">
                        <span>4-2-3-1</span>
                    </label>
                    <label class="formation-card">
                        <input type="radio" name="opponent_formation" value="3-5-2">
                        <img src="{{ url_for('static', filename='images/3-5-2.png') }}" alt="3-5-2">
                        <span>3-5-2</span>
                    </label>
                </div>
            </div>

            <!-- Sliders for Stats -->
            <div class="section stats-grid">
                <div class="input-group">
                    <label>Possession: <span id="possession-val">60</span>%</label>
                    <input type="range" name="opponent_possession" min="30" max="80" value="60"
                        oninput="document.getElementById('possession-val').innerText = this.value">
                </div>

                <div class="input-group">
                    <label>Pass Accuracy: <span id="pass-val">85</span>%</label>
                    <input type="range" name="pass_accuracy" min="60" max="95" value="85"
                        oninput="document.getElementById('pass-val').innerText = this.value">
                </div>

                <div class="input-group">
                    <label>Shots on Target: <span id="shots-val">5</span></label>
                    <input type="range" name="shots_on_target" min="1" max="15" value="5"
                        oninput="document.getElementById('shots-val').innerText = this.value">
                </div>

                <div class="input-group">
                    <label>Pressing Style</label>
                    <select name="pressing_style">
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High" selected>High</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="cta-button">ANALYZE OPPONENT</button>
        </form>

        <!-- Result Section -->
        <div id="result-section" class="glass-panel result-panel collapsed">
            <div class="result-content">
                <div class="result-text">
                    <h3>RECOMMENDED COUNTER</h3>
                    <h2 id="result-formation" class="neon-text"></h2>
                    <p id="result-explanation"></p>

                    <!-- New Detailed Tactics Grid -->
                    <div class="tactics-grid-display">
                        <div class="tactic-box">
                            <span class="label">Attacking Style</span>
                            <span class="value" id="tactic-attack"></span>
                        </div>
                        <div class="tactic-box">
                            <span class="label">Defensive Style</span>
                            <span class="value" id="tactic-defense"></span>
                        </div>
                        <div class="tactic-box">
                            <span class="label">Tempo</span>
                            <span class="value" id="tactic-tempo"></span>
                        </div>
                        <div class="tactic-box full-width">
                            <span class="label">Key Instruction</span>
                            <span class="value highlight-text" id="tactic-instruction"></span>
                        </div>
                    </div>
                </div>
                <div class="result-visual">
                    <img id="result-image" src="" alt="Tactical Board">
                </div>
            </div>

            <!-- Key Player Section -->
            <div class="player-content">
                <div class="result-text">
                    <h3>KEY PLAYER ARCHETYPE</h3>
                    <h2 id="player-name" class="neon-text-pink"></h2>
                    <p id="player-desc"></p>
                </div>
                <div class="result-visual">
                    <img id="player-image" src="" alt="Key Player">
                </div>
            </div>
        </div>

    </div>

    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">SIMULATING MATCH SCENARIOS...</div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>